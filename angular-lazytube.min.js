angular.module("oblador.lazytube",["oblador.lazytube.templates","oblador.lazytube.config","oblador.lazytube.directive"]),angular.module("oblador.lazytube.config",[]).factory("obLazytubeConfig",function(){return{width:480,height:360,urlParams:{autoplay:1}}}),angular.module("oblador.lazytube.templates",[]).run(["$templateCache",function(e){e.put("templates/lazytube/directive.html",'<div class="yt-wrap"><a ng-href="//www.youtube.com/watch?v={{id}}" ng-click="showVideo($event)" ng-show="!active" ng-style="placeholderStyle" class="yt-placeholder"><i class="yt-btn"></i></a><iframe class="yt-embed" ng-if="active" width="{{width}}" height="{{height}}" ng-src="{{embedUrl}}" frameborder="0" allowfullscreen></iframe></div>'),e.put("templates/lazytube/styles.html",'<style type="text/css">.yt-placeholder{display:block;position:relative;background:#000 no-repeat 50% 50%;background-size:cover;margin:4px 0}.yt-btn:before{content:"â–¶";color:#fff;font-family:Helvetica,sans-serif}.yt-btn{position:absolute;left:50%;top:50%;width:84px;line-height:58px;margin:-29px 0 0 -42px;font-style:normal;background:#000;background:rgba(0,0,0,.8);text-align:center;font-size:28px;border-radius:10px;text-indent:5px}a:hover .yt-btn{background:#cc181e}</style>')}]),angular.module("oblador.lazytube.directive",["oblador.lazytube.config"]).directive("obLazytube",["$sce","$templateCache","obLazytubeConfig",function(e,t,a){angular.element(document).find("head").prepend(t.get("templates/lazytube/styles.html"));var l=/^(?:(https?:)?\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o="autohide autoplay cc_load_policy color controls disablekb enablejsapi end fs iv_load_policy list listType loop modestbranding origin playerapiid playlist playsinline rel showinfo start theme".split(" ");return{restrict:"A",templateUrl:"templates/lazytube/directive.html",replace:!0,transclude:!0,scope:!0,link:function(t,r,i){var n=i.obLazytube;if(!n){var c=i.href||i.src;if(!c||!c.match(l))return;n=RegExp.$2}t.id=n;var u=t.width=r.attr("width")||a.width,d=t.height=r.attr("height")||a.height;t.placeholderStyle={backgroundImage:"url(//i.ytimg.com/vi/"+n+"/hqdefault.jpg)",width:u+"px",height:d+"px"},t.showVideo=function(l){var r=angular.copy(a.urlParams);angular.forEach(o,function(e){var t=i[e];angular.isDefined(t)&&(r[e]=t)});var c=[];angular.forEach(r,function(e,t){c.push(t+"="+encodeURIComponent(e))}),t.embedUrl=e.trustAsResourceUrl("//www.youtube.com/embed/"+n+"/?"+c.join("&")),t.active=!0,l.preventDefault()}}}}]);